Game.common={commands:[{$:"inventory",action:()=>inventoryList(),score:15},{$:"read journal",action:()=>`
            You probably want to know how you got here. Well, settle in.
            `,score:20}]},Game.coin={location:"skull",name:"coin",desc:()=>"a shiny gold coin",specialDesc:()=>`
    
    A bit of gold glints at you from inside the skull.
    
    `,commands:()=>[{$:"examine coin",action:()=>`
            
            <img src="key.png" />


            ---Gold guinea, minted in 1687.---

            
            `},takeAction]};const bl=`

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Dolor sit amet consectetur adipiscing. Risus quis varius quam quisque id diam vel. Libero volutpat sed cras ornare arcu dui vivamus arcu felis. Quam nulla porttitor massa id neque aliquam vestibulum morbi. Vitae ultricies leo integer malesuada nunc vel risus. Orci a scelerisque purus semper eget duis at tellus. A iaculis at erat pellentesque adipiscing commodo elit. Rhoncus aenean vel elit scelerisque mauris pellentesque pulvinar pellentesque habitant. Ac turpis egestas sed tempus urna et pharetra. Varius sit amet mattis vulputate enim. Etiam non quam lacus suspendisse faucibus interdum posuere lorem ipsum. Tellus rutrum tellus pellentesque eu tincidunt. Diam quam nulla porttitor massa id neque. Sit amet aliquam id diam maecenas. Morbi tempus iaculis urna id volutpat lacus laoreet non. Vitae et leo duis ut. Quam viverra orci sagittis eu volutpat odio facilisis mauris. Pellentesque diam volutpat commodo sed egestas egestas. A diam sollicitudin tempor id eu nisl nunc mi ipsum.

`;Game.start={desc:()=>`
    
    The cold little dungeon offers little but a few rats, a shut timber door, and the previous resident.
    He clearly hasn't seen a meal in a while.
    
    `,firstTime:()=>`
    
    [If this is your first time playing this game, you may want to read the journal.]

    `,commands:()=>[{$:"open door",action:()=>"The door won't budge despite your best efforts."},{$:"look",action:()=>showRoomDesc()},{$:"look closer at skeleton",action:()=>"skull"===g$.coin.location?(move("coin","start"),`
                    
                    A shiny bit of gold coin sparkles in the skull.
                    
                `):`
                    
                    Nothing of interest remains in the skull.
                    
                `,score:15}]},window.addEventListener("load",()=>{g$={...Game},makeMeADancingTurkey(),go("start")});let msg=(e,t)=>{},clear=onCompleted={};const getAllInLocation=t=>Object.keys(g$).filter(e=>g$[e].location===t),showRoomDesc=()=>{var e=Object.keys(g$).filter(e=>g$[e].location===g$.location).map(e=>g$[e]);msg(`
    
    ${g$[g$.location].desc()}
    
    `),e.map(e=>{e.specialDesc&&msg(e.specialDesc())})},move=(e,t)=>{g$[e].location=t},inventoryList=()=>{var e=getAllInLocation("player");0<e.length?(msg("You have: "),e.map(e=>{msg("&ensp;"+g$[e].desc())})):msg("Presently, you carry nothing.")},take=e=>{g$[e].location===g$.location&&(move(e,"player"),msg("Taken."),g$.firstItem||msg("[You can always check your inventory by pressing the <b>I</b> key.]"))};let go=e=>{};function makeMeADancingTurkey(){g$.suggestions=[],g$.keyBuf=[];let s=[];const a=e=>{var t=e?.obj?.name;return t?e?.$.replace("n$",t)??"":e?.$??""};function o(n){for(let t=1;t<a(n[0]).length+1;t+=1)for(let e=1;e<n.length;e+=1)if(a(n[e])[t]!==a(n[e-1])[t])return 0<t?a(n[e-1]).slice(0,t):a(n[e-1]).split(" ")[0];return""}const r=()=>{var e=getAllInLocation(g$.location),t=g$.common.commands.map(e=>{var t=e.check;return"function"==typeof t&&!1===t()?"":e}).filter(e=>""!==e),e=e.filter(e=>void 0!==g$[e].commands).map(t=>{var e=g$[t].commands();return e.map(e=>{e.objId=t,e.obj=g$[t]}),e.filter(e=>{var t=e.check;return gDobj=e.obj,gDobjId=e.objId,"function"!=typeof t||!1!==t()}).map(e=>(gDobj=e.obj,gDobjId=e.objId,"function"==typeof e?e():e))});s=[...g$[g$.location].commands().map(e=>{var t=e.check;return"function"==typeof t&&!1===t()?"":e}).filter(e=>""!=e),...t];for(const n of e)for(const i of n)s.push(i)};{var e=document.createElement("div"),t=document.createElement("div");const l=document.createElement("div"),u=document.createElement("div"),c=document.createElement("div"),g=document.createElement("div"),m=document.createElement("div");var n=document.createElement("div");const d=e=>{if(e)return 1===e.length?"<div class='bigCursor'>üè¥‚Äç‚ò†Ô∏èÔ∏è</div>":"<div class='cursorBlink'>‚ñå</div>"},p=(e.className="main",m.className="upperOutput",u.className="page",m.appendChild(u),l.className="inputCommand",t.appendChild(l),g.className="suggestBar",c.innerHTML=d([]),n.className="lowerOutput",t.className="input",n.appendChild(g),t.appendChild(c),e.appendChild(m),e.appendChild(n),e.appendChild(t),document.body.appendChild(e),clear=t=>{l.innerHTML="";var e=`<div class='pageOut'>${g.innerHTML}</div>`,n=`<div class='pageOut'>${u.innerHTML}</div>`;g.innerHTML=e,u.innerHTML=n,setTimeout(()=>{g.innerHTML="",m.innerHTML="";var e=document.createElement("div");e.className="page",m.appendChild(e),t()},270)},go=t=>{clear(()=>{var e;g$.location=t,showRoomDesc(),g$[t].hasVisited||((e="function"==typeof g$[t].firstTime?g$[t].firstTime():"")&&msg(e,{append:!0}),g$[t].hasVisited=!0,$())})},msg=(e,t)=>{if(Array.isArray(e)){var n=e;const a=n[0];var o="i"+(()=>{let e=0;if(0!=a.length)for(i=0;i<a.length;i++){var t=a.charCodeAt(i);e=(e<<5)-e+t,e&=e}return e})(),s=g$[o]??0;s?(msg(n[s]),s<n.length-1&&(g$[o]=s+1)):(g$[o]=1,msg(a))}else t?.skipSkylight||(e=jig(e)),document.getElementsByClassName("page")[0].innerHTML+=e},()=>{keyBuf=[],g$.suggestions=[],$(),c.innerHTML=d(g$.suggestions)}),$=()=>{if(r(),l.innerHTML="",g$.input="",0===g$.keyBuf.length)g$.suggestions=[...s].sort((e,t)=>{return(e?.score??0)-(t?.score??0)});else if(1===g$.keyBuf.length){const t=g$.keyBuf[0];var e=[...s].filter(e=>-1<a(e).indexOf(t));if(1===e.length)g$.suggestions=e;else{if(g$.suggestions=[...s].filter(e=>a(e)[0]===t),!g$.suggestions.length)return void(g$.keyBuf=[]);g$.input=o(g$.suggestions)}}else if(1<g$.keyBuf.length){e=[...g$.keyBuf];e.shift();for(const n of e)if(g$.suggestions=g$.suggestions.filter(e=>-1<a(e).indexOf(n)),0===g$.suggestions.length)return void(g$.keyBuf=[]);1<g$.suggestions.length&&(g$.input=o(g$.suggestions))}0!==g$.suggestions.length&&(e=`<div class='outBar'>${g.innerHTML}</div>`,g.innerHTML=e,setTimeout(()=>{g.innerHTML="",1<g$.suggestions.length&&g$.suggestions.map((e,t)=>{var n=document.createElement("div");n.style.animationName="page-in",n.style.animationDuration=.2*t+"s",n.innerText=a(e),g.appendChild(n)})},270),1!==g$.suggestions.length?((e=document.createElement("div")).innerText=g$.input,e.style.animationName="expand",e.style.animationDuration="0.25s",l.appendChild(e)):(g$.input=a(g$.suggestions[0]),(e=document.createElement("div")).innerText=g$.input,e.style.animationName="expand",e.style.animationDuration="0.25s",l.appendChild(e)))};document.body.addEventListener("keydown",e=>{var t,e=e.key.toLowerCase();if(r(),"backspace"===e&&0<g$.keyBuf.length&&(g$.keyBuf.pop(),$()),-1<"abcdefghijklmnopqrstuvwxyz".indexOf(e)&&(t=e,1!==g$.suggestions.length&&g$.keyBuf.push(t),$()),"enter"===e){var n=g$.input;const i=s.map(e=>({obj:e,label:a(e)})).filter(e=>e.label===n.trim())[0]?.obj;if(i){g$.keyBuf=[],gDobjId=i.objId,gDobj=i.obj;const o="function"==typeof i.verify&&i.verify();o?clear(()=>msg(o)):(clear(()=>{var e=i.action();e&&msg(e)}),p())}}c.innerHTML=d(g$.suggestions)})}}const jig=(e,t=!1)=>{let n=0;const i=t?"div":"p";return e.split("\n").map(e=>e.trim()).join("\n").split("\n\n").filter(e=>""!==e).map(e=>`<${i}>${(i=>{const o={quote:!0,bold:!0,italic:!0};var e=(e,t,n)=>{for(;-1<i.indexOf(e);)i=o[t]?i.replace(e,`<${n}>`):i.replace(e,`</${n}>`),o[t]=!o[t]},t=(t,n)=>i=i.split("\n").map(e=>0===e.trimStart().indexOf(t)?`<${n}>${e.replace(t,"")}</${n}>`:e).join("\n");for(t("#### ","h4"),t("### ","h3"),t("## ","h2"),t("# ","h1"),i=(i=i.replace("\\'","^&^$$")).replace('\\"',"^&^##");-1<i.indexOf("[[");)i=n%2==0?i.replace("[[","&ldquo;"):i.replace("[[","&lsquo;"),n+=1;for(;-1<i.indexOf("]]");)--n,i=n%2==0?i.replace("]]","&rdquo;"):i.replace("]]","&rsquo;");return e("---","center","center"),e("**","bold","b"),e("*","italic","i"),i=(i=(i=i.replace("^&^$$","'")).replace("^&^##",'"')).trim()})(e)}</${i}>`).join("")};function stringToHash(e){var t=0;if(0!=e.length)for(i=0;i<e.length;i++)t=(t<<5)-t+(char=e.charCodeAt(i)),t&=t;return t}const takeAction={$:"get n$",check:()=>gDobj.location===g$.location,action:()=>{take(gDobjId)},score:21};
//# sourceMappingURL=./turkey.dance.min.js.map